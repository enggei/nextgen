{
  "uuid" : "22979c7d-7514-4e8f-8b11-77b4f3d6b7d0",
  "name" : "StringTemplate",
  "delimiter" : "~",
  "templates" : [ {
    "uuid" : "8ddb7783-2abb-40fe-9038-669f16c8ed6b",
    "name" : "STDomain",
    "text" : "package ~packageName~;\n\npublic class ~name~ {\n\n\tprivate final org.stringtemplate.v4.STGroupFile stGroupFile;\n\n\tpublic ~name~() {\n\t\tthis(new java.io.File(\"templates/~template~.stg\"));\n\t}\n\t\n\tpublic ~name~(final java.io.File stgFile) {\n\t\tthis(stgFile, '\\~');\n\t}\n\n\tpublic ~name~(final java.io.File stgFile, char delimiter) {\n\t\tthis.stGroupFile = new org.stringtemplate.v4.STGroupFile(stgFile.getAbsolutePath(), delimiter, delimiter);\n\t\tthis.stGroupFile.registerRenderer(Object.class, new DefaultAttributeRenderer());\n\t}\n\n\t~entities:{it|~it~};separator=\"\\n\\n\"~\n\n\tprivate static final class DefaultAttributeRenderer implements org.stringtemplate.v4.AttributeRenderer {\n\n\t\t@Override\n\t\tpublic String toString(Object o, String formatString, java.util.Locale locale) {\n\n\t\t\tfinal String text = o.toString();\n\t\t\tif (formatString == null) return text;\n\n\t\t\tfinal String s = text.length() > 1 ? text.substring(1) : \"\";\n\t\t\t\n\t\t\tswitch (formatString) {\n\t\t\t\tcase \"capitalize\":\n\t\t\t\t\treturn Character.toUpperCase(text.charAt(0)) + s;\n\t\t\t\tcase \"toUpper\":\n\t\t\t\t\treturn text.toUpperCase();\n\t\t\t\tcase \"lowFirst\":\n\t\t\t\t\treturn Character.toLowerCase(text.charAt(0)) + s;\n\t\t\t\tcase \"toLower\":\n\t\t\t\t\treturn text.toLowerCase();\n\t\t\t\tdefault:\n\t\t\t\t\treturn o.toString();\n\t\t\t}\n\t\t}\n\t}\t\n}",
    "parameters" : [ {
      "uuid" : "455cf757-381c-487c-bec7-29a96b67b9ae",
      "name" : "packageName",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "750205c6-4ca5-4975-a67a-4ee52396778d",
      "name" : "name",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "7e0c38bd-604c-429d-ac27-b5ed70ccafca",
      "name" : "entities",
      "argumentTypes" : [ "Object" ],
      "type" : "LIST"
    }, {
      "uuid" : "b5665aea-5062-4cd2-a91e-1c1063ea2a92",
      "name" : "template",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    } ],
    "children" : [ {
      "uuid" : "5a5ffd3b-8338-449a-bb45-67e0f2ca0ec2",
      "name" : "newEntityInstance",
      "text" : "public ~entityName~ new~entityName~() {\n\treturn new ~entityName~(stGroupFile, \"~template~\");\n}",
      "parameters" : [ {
        "uuid" : "3a3d432b-3078-4f61-b23f-44e77f1daa52",
        "name" : "entityName",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      }, {
        "uuid" : "6ab51d46-5da3-4973-9fcf-f45e494d1810",
        "name" : "template",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      } ]
    } ]
  }, {
    "uuid" : "d164aa89-502b-4f40-8f32-2386299f4290",
    "name" : "STDomainTests",
    "text" : "package ~packageName~;\n\npublic class ~name~ {\n\n\tprivate static ~domainName~ domain;\n\n\t@org.junit.BeforeClass\n\tpublic static void loadSTGFile() {\n\t\tdomain = new ~domainName~(new java.io.File(\"~stgPath~\"));\n\t}\n\n\t@org.junit.Test\n\tpublic void testAll() {\n\t\t~testcases:{it|test~it.name;format=\"capitalize\"~();};separator=\"\\n\"~\n\t}\n\n\t~testcases:{it|~it.impl~};separator=\"\\n\\n\"~\n}",
    "parameters" : [ {
      "uuid" : "d9ff0e14-c033-4ae1-83f3-5c802d5ca5cf",
      "name" : "name",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "b31a8a9a-2b7d-4fa7-b58b-683588848a75",
      "name" : "stgPath",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "d95154f1-04e8-4018-9568-db4ad51955be",
      "name" : "packageName",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "77cd6ce2-55fc-4288-a824-8421df2243a1",
      "name" : "domainName",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "c3b31149-57bd-474c-b715-154221b99225",
      "name" : "testcases",
      "argumentTypes" : [ "Object" ],
      "type" : "LIST"
    } ],
    "children" : [ {
      "uuid" : "ddf9f301-8ea9-447d-b1c8-ac4ef04a6f2e",
      "name" : "templateTestMethod",
      "text" : "@org.junit.Test\npublic void test~template;format=\"capitalize\"~() {\n\tSystem.out.println(\"~template~ ---\\n\");\n\tSystem.out.println(domain.new~template;format=\"capitalize\"~());\n\tSystem.out.println(\"\\n--- ~template~\");\n}",
      "parameters" : [ {
        "uuid" : "1779dc46-0f20-4c96-8575-2abccf4dcfb4",
        "name" : "template",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      } ]
    } ]
  }, {
    "uuid" : "8f38f099-b784-4fbd-996f-8be16beb6d28",
    "name" : "STEntity",
    "text" : "package ~packageName~;\n\npublic class ~name~ {\n\n\tprivate final java.util.UUID uuid = java.util.UUID.randomUUID();\n\tprivate final org.stringtemplate.v4.STGroupFile stGroupFile;\n\tprivate final String template;\n\t\n\t~singleFields:{it|private Object _~it~;};separator=\"\\n\"~\n\t~listFields:{it|private java.util.List<Object> _~it~ = new java.util.ArrayList<>();};separator=\"\\n\"~\n\t~kvListFields:{it|private java.util.List<java.util.Map<String, Object~gt()~> _~it~ = new java.util.ArrayList<>();};separator=\"\\n\"~\n\t\n\tpublic ~name~(org.stringtemplate.v4.STGroupFile stGroupFile, String template) {\n\t\tthis.stGroupFile = stGroupFile;\n\t\tthis.template = template;\n\t}\n\n\t@Override\n\tpublic boolean equals(Object o) {\n\t\tif (this == o) return true;\n\t\tif (o == null || getClass() != o.getClass()) return false;\n\t\t~name~ that = (~name~) o;\n\t\treturn uuid.equals(that.uuid);\n\t}\n\n\t@Override\n\tpublic int hashCode() {\n\t\treturn java.util.Objects.hash(uuid);\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\tfinal org.stringtemplate.v4.ST st = stGroupFile.getInstanceOf(template);\n\t\t~singleFields:{it|st.add(\"~it~\" ,_~it~);};separator=\"\\n\"~\n\t\t~listFields:{it|for (Object o : _~it~) st.add(\"~it~\", o);};separator=\"\\n\"~\n\t\t~kvListFields:{it|for (java.util.Map<String, Object> map : _~it~) addAggr(\"~it~\", map, st);};separator=\"\\n\"~\n\t\treturn st.render();\n\t}\n\t\n\t~singleAccessors:{it|~it~};separator=\"\\n\\n\"~\n\t\n\t~listAccessors:{it|~it~};separator=\"\\n\\n\"~\n\t\n\t~kvListAccessors:{it|~it~};separator=\"\\n\\n\"~\n~if(kvListAccessors)~\n\n\tprivate static void addAggr(String name, java.util.Map<String, Object> values, org.stringtemplate.v4.ST st) {\n\t\tfinal StringBuilder aggrSpec = new StringBuilder(name + \".{\");\n\t\tfinal java.util.List<Object> aggrArguments = new java.util.ArrayList<>(values.size());\n\n\t\tboolean first = true;\n\t\tfor (String key : values.keySet()) {\n\t\t\t\tif (!first) aggrSpec.append(\",\");\n\t\t\t\taggrSpec.append(key);\n\t\t\t\taggrArguments.add(values.get(key));\n\t\t\t\tfirst = false;\n\t\t}\n\t\taggrSpec.append(\"}\");\n\n\t\tst.addAggr(aggrSpec.toString(), aggrArguments.toArray());\n\t}~endif~\n}",
    "parameters" : [ {
      "uuid" : "e659aae6-ca30-4cd1-ad8f-40866cee7f3e",
      "name" : "listFields",
      "argumentTypes" : [ "Object" ],
      "type" : "KVLIST"
    }, {
      "uuid" : "3de5560d-9dab-4784-a95e-aaba0ec36c23",
      "name" : "singleFields",
      "argumentTypes" : [ "Object" ],
      "type" : "LIST"
    }, {
      "uuid" : "7e906928-1bc3-4340-a29a-950a0a13c0eb",
      "name" : "kvListFields",
      "argumentTypes" : [ "Object" ],
      "type" : "KVLIST"
    }, {
      "uuid" : "4a239b0a-8336-424c-bd30-e37746bcda35",
      "name" : "name",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "deb02b70-cebb-4f4c-936d-a03f7d96f977",
      "name" : "singleAccessors",
      "argumentTypes" : [ "Object" ],
      "type" : "LIST"
    }, {
      "uuid" : "dcffa042-151b-401e-b456-296411e8a7bd",
      "name" : "packageName",
      "argumentTypes" : [ "Object" ],
      "type" : "SINGLE"
    }, {
      "uuid" : "501d36b5-c1a4-4b4b-9a87-90eec14f52e4",
      "name" : "kvListAccessors",
      "argumentTypes" : [ "Object" ],
      "type" : "LIST"
    }, {
      "uuid" : "130fbc71-d4fc-4b08-a34f-0004b0a3a351",
      "name" : "listAccessors",
      "argumentTypes" : [ "Object" ],
      "type" : "LIST"
    } ],
    "children" : [ {
      "uuid" : "5fa1efb8-99ca-493c-925c-a173d8b79584",
      "name" : "entityListAccessors",
      "text" : "public ~entity~ add~name;format=\"capitalize\"~(Object value) {\n\tthis._~name~.add(value);\n\treturn this;\n}\n\npublic ~entity~ remove~name;format=\"capitalize\"~(Object value) {\n\tthis._~name~.remove(value);\n\treturn this;\n}\n\npublic ~entity~ remove~name;format=\"capitalize\"~(int index) {\n\tthis._~name~.remove(index);\n\treturn this;\n}\n\npublic java.util.List<Object> get~name;format=\"capitalize\"~() {\n\treturn this._~name~;\n}",
      "parameters" : [ {
        "uuid" : "b77ed742-679d-4e83-9e36-2b29ce755bb0",
        "name" : "entity",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      }, {
        "uuid" : "10e17f9c-dffc-444e-8bb0-fbbeae91bdd6",
        "name" : "name",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      } ]
    }, {
      "uuid" : "fc61d6f5-bac5-43ea-92fc-ac9c397cc389",
      "name" : "entityKVListAccessors",
      "text" : "public ~entity~ add~name;format=\"capitalize\"~(~keys:{it|Object _~it~};separator=\",\"~) {\n\tfinal java.util.Map<String, Object> map = new java.util.HashMap<>();\n\t~keys:{it|map.put(\"~it~\", _~it~);};separator=\"\\n\"~\n\tthis._~name~.add(map);\n\treturn this;\n}\n\npublic java.util.List<java.util.Map<String, Object~gt()~> get~name;format=\"capitalize\"~() {\n\treturn this._~name~;\n}",
      "parameters" : [ {
        "uuid" : "428fe54d-9d77-47c9-9ed8-f655a9f3f0e6",
        "name" : "name",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      }, {
        "uuid" : "0cd556ad-a511-4383-a21b-610a92d66f6d",
        "name" : "keys",
        "argumentTypes" : [ "Object" ],
        "type" : "KVLIST"
      }, {
        "uuid" : "f0b19f32-9bce-4046-8976-d2e6a132984f",
        "name" : "entity",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      } ]
    }, {
      "uuid" : "e1d4dff9-7492-494f-acf4-e92a24074ae5",
      "name" : "entitySingleAccessors",
      "text" : "public ~entity~ set~name;format=\"capitalize\"~(Object value) {\n\tthis._~name~ = value;\n\treturn this;\n}\n\npublic Object get~name;format=\"capitalize\"~() {\n\treturn this._~name~;\n}\n\npublic boolean has~name;format=\"capitalize\"~() {\n\treturn this._~name~ != null;\n}\n\npublic ~entity~ remove~name;format=\"capitalize\"~() {\n\tthis._~name~ = null;\n\treturn this;\n}",
      "parameters" : [ {
        "uuid" : "b8b52291-5ab5-47fb-ba2c-b3417ba4bec1",
        "name" : "name",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      }, {
        "uuid" : "0fb43fce-df22-46cd-92e4-ffc51393c3a6",
        "name" : "entity",
        "argumentTypes" : [ "Object" ],
        "type" : "SINGLE"
      } ]
    } ]
  } ],
  "stgFile" : "/home/goe/projects/nextgen/components/core/src/main/resources/templates/StringTemplate.stg"
}